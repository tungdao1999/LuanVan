httpsvibloasiaptoi-uu-sql-join-where-phan--aWjBAplmledangtuanbk ledangtuanbk Follow Published about hours ago min read Tối_ưu SQL - Join - Where Phần Report Đây là vấn_đề mình gặp trong quá_trình làm_việc viết vào đây vừa để note lại cho bản_thân vừa chia_sẻ với mọi_người
Có bảng usersid name tr bản ghi profiles id userId name tr bản ghi Yêu_cầu đặt_ra là lấy tất_cả thông_tin users profile của nhưng user có id select from users u join profiles p on uid puserIdwhere uid Ai_nhìn cũng bảo dễ viết là xong ngay nhưng khi phân_tích lại câu query thì thấy có vấn_đề về performance
Như câu query trên hệ_thống sẽ thực_hiện join trước tr vs tr rồi thự hiện where để loại_bỏ
Với dữ_liệu nhỏ thì ok dữ liệu hớn thì sẽ bị_chậm
Giải_pháp sử_dụng where để loại_bỏ trước rồi_sau đó mới join dùng where để chỉ lây bản ghi của user rồi join tr bản ghi của profiles thì sẽ nhanh hơn ban_đầu mình nghĩ hướng này nhưng sql cú_pháp sẽ không cho_phép select from users u where uid join profiles theo_như cú_pháp sau where FOR GROUP HAVING INTO LIMIT LOCK ORDER PROCEDURE UNION or WINDOW expected got 'join' để xử_lý vấn_đề này chúng_ta có_thể tạo bảng phụ_lưu kết_quả where with temp users as select from users u where id select from temp users tu join profiles pwhere tuid puserId hoặc select from select from users u where uid as tu join profiles p on tuid puserId Nếu cần trao_đổi mọi_người hãy comment bên_dưới
JOIN SQL Optimization MySql BestPerformance All Rights Reserved Report