Nguyen Trong Hieu Eval Follow 88 1 21 Published about 21 hours ago 4 min read 9 0 0 Sá»­_dá»¥ng autoclosure trong Swift Ä‘á»ƒ cáº£i_thiá»‡n hiá»‡u_suáº¥t Report autoclosure trong Swift lÃ  má»™t loáº¡i closure cho_phÃ©p bá»_qua dáº¥u ngoáº·c nhá»n vÃ  lÃ m_cho nÃ³ trÃ´ng giá»‘ng nhÆ° má»™t biá»ƒu_thá»©c bÃ¬nh_thÆ°á»ng
Tuy_nhiÃªn Ä‘i_sÃ¢u vÃ o chi_tiáº¿t hÆ¡n thÃ¬ nÃ³ váº«n lÃ  má»™t closure
Viá»‡c sá»­_dá»¥ng nÃ³ cho_phÃ©p chÃºng_ta cÃ³_thá»ƒ cáº£i_thiá»‡n hiá»‡u_quáº£ code cá»§a mÃ¬nh hÆ¡n
Tá»« khÃ³a autoclosure cÃ³_thá»ƒ lÃ  má»›i Ä‘á»‘i_vá»›i báº¡n vÃ  Ä‘á»‘i_vá»›i nhiá»u ngÆ°á»i trong chÃºng_ta tháº­t khÃ³ Ä‘á»ƒ Ä‘Æ°a_ra cÃ¡c trÆ°á»ng_há»£p sá»­_dá»¥ng cho nÃ³
Tuy_nhiÃªn náº¿u quan_sÃ¡t ká»¹ báº¡n sáº½ nháº­n_tháº¥y ráº±ng nÃ³ Ä‘Æ°á»£c sá»­_dá»¥ng trong cÃ¡c thÆ°_viá»‡n API Swift tiÃªu_chuáº©n mÃ  báº¡n Ä‘ang sá»­_dá»¥ng hÃ ng_ngÃ y 1
autoclosure lÃ _gÃ¬
Táº¥t_cáº£ náº±m_trong tÃªn_gá»i cá»§a nÃ³ autoclosure tá»±_Ä‘á»™ng táº¡o má»™t closure tá»« má»™t Ä‘á»‘i_sá»‘ Ä‘Æ°á»£c truyá»n cho má»™t function
Chuyá»ƒn má»™t Ä‘á»‘i sá»‘_thÃ nh má»™t closure cho_phÃ©p chÃºng_ta trÃ¬_hoÃ£n yÃªu_cáº§u thá»±c_táº¿ cá»§a Ä‘á»‘i_sá»‘
HÃ£y giáº£i_thÃ­ch Ä‘iá»u nÃ y chi_tiáº¿t hÆ¡n báº±ng cÃ¡ch sá»­_dá»¥ng vÃ­_dá»¥ code sau
Trong vÃ­_dá»¥ nÃ y chÃºng_ta Ä‘Ã£ táº¡o method debugLog vÃ  struct Person mÃ  chÃºng_ta sáº½ in ra struct Person CustomStringConvertible let name String var description String printAsking for Person description
return Person name is \name let isDebuggingEnabled Bool = false func debugLog  message String You could replace this in projects with if DEBUG if isDebuggingEnabled print[DEBUG] \message let person = Personname Eval debugLogperson
description Prints Asking for Person description
Máº·c_dÃ¹ chÃºng_ta Ä‘Ã£ táº¯t debugging struct Person váº«n Ä‘Æ°á»£c yÃªu_cáº§u description cá»§a nÃ³
Äiá»u nÃ y lÃ  do Ä‘á»‘i_sá»‘ message cá»§a debugLog Ä‘Æ°á»£c tÃ­nh trá»±c_tiáº¿p
ChÃºng_ta cÃ³_thá»ƒ giáº£i_quyáº¿t váº¥n_Ä‘á» nÃ y báº±ng cÃ¡ch sá»­_dá»¥ng closure let isDebuggingEnabled Bool = false func debugLog  message - String You could replace this in projects with if DEBUG if isDebuggingEnabled print[DEBUG] \message let person = Personname Eval debugLog person
description Prints - Closure message chá»‰ Ä‘Æ°á»£c gá»i khi debugging Ä‘Æ°á»£c báº­t
Báº¡n cÃ³_thá»ƒ tháº¥y ráº±ng bÃ¢y_giá» chÃºng_ta cáº§n pháº£i chuyá»ƒn Ä‘á»‘i sá»‘ closure vÃ o method debugLog nÃªn nhÃ¬n trÃ´ng khÃ´ng_Ä‘Æ°á»£c Ä‘áº¹p_máº¯t cho láº¯m
ChÃºng_ta cÃ³_thá»ƒ cáº£i_thiá»‡n Ä‘oáº¡n code nÃ y báº±ng cÃ¡ch sá»­_dá»¥ng tá»« khÃ³a autoclosure let isDebuggingEnabled Bool = false func debugLog  message autoclosure - String You could replace this in projects with if DEBUG if isDebuggingEnabled print[DEBUG] \message let person = Personname Eval debugLogperson
description Prints - Logic bÃªn_trong phÆ°Æ¡ng_thá»©c debugLog váº«n giá»¯_nguyÃªn vÃ  váº«n pháº£i lÃ m_viá»‡c vá»›i má»™t closure
Tuy_nhiÃªn vá» má»©c_Ä‘á»™ thá»±c_hiá»‡n bÃ¢y_giá» chÃºng_ta cÃ³_thá»ƒ truyá»n Ä‘á»‘i_sá»‘ nhÆ°_thá»ƒ nÃ³ lÃ  má»™t biá»ƒu_thá»©c bÃ¬nh_thÆ°á»ng
NÃ³ trÃ´ng vá»«a clean vÃ  quen_thuá»™c khi chÃºng_ta Ä‘Ã£ tá»‘i_Æ°u_hÃ³a code debug logging cá»§a mÃ¬nh
autoclosure cho_phÃ©p trÃ¬_hoÃ£n quÃ¡_trÃ¬nh tÃ­nh_toÃ¡n thá»±c_táº¿ cá»§a Ä‘á»‘i sá»‘ giá»‘ng nhÆ° chÃºng_ta Ä‘Ã£ tháº¥y trÆ°á»›c_Ä‘Ã¢y vá»›i cÃ¡c lazy collections vÃ  lazy properties
TrÃªn thá»±c_táº¿ náº¿u debugging khÃ´ng_Ä‘Æ°á»£c báº­t chÃºng_ta sáº½ khÃ´ng_cÃ²n tÃ­nh_toÃ¡n debug descriptions nhÆ° trÆ°á»›c_Ä‘Ã¢y ná»¯a
2
VÃ­_dá»¥ vá» cÃ¡c API Swift tiÃªu_chuáº©n sá»­_dá»¥ng autoclosure BÃ¢y_giá» chÃºng_ta Ä‘Ã£ biáº¿t cÃ¡ch autoclosure hoáº¡t_Ä‘á»™ng chÃºng_ta cÃ³_thá»ƒ xem qua cÃ¡c thÆ°_viá»‡n API tiÃªu_chuáº©n sá»­_dá»¥ng tá»« khÃ³a nÃ y
Má»™t vÃ­_dá»¥ phá»•_biáº¿n lÃ  function assertconditionmessagefileline
Äiá»u_kiá»‡n cá»§a nÃ³ chá»‰ Ä‘Æ°á»£c Ä‘Ã¡nh_giÃ¡ if DEBUG lÃ  true vÃ  message cá»§a nÃ³ chá»‰ Ä‘Æ°á»£c gá»i náº¿u Ä‘iá»u_kiá»‡n khÃ´ng thÃ nh_cÃ´ng
Cáº£ hai Ä‘á»‘i_sá»‘ Ä‘á»u lÃ  auto closure
TrÃªn thá»±c_táº¿ nhiá»u API testing sá»­_dá»¥ng tÃ­nh_nÄƒng autoclosure
VÃ­_dá»¥ nhÆ° Ä‘Ã¢y public func XCTAssert  expression autoclosure throws - Bool message autoclosure - String = file StaticString = file line UInt = line XCTAssertTruetry expression message file file line line 3
Káº¿t_luáº­n autoclosure cÃ³_thá»ƒ lÃ  má»™t giáº£i_phÃ¡p tuyá»‡t_vá»i Ä‘á»ƒ ngÄƒn_cháº·n cÃ´ng_viá»‡c khÃ´ng cáº§n_thiáº¿t náº¿u code khÃ´ng thá»±c_sá»± Ä‘Æ°á»£c sá»­_dá»¥ng
Vá» má»©c_Ä‘á»™ thá»±c_hiá»‡n má»i_thá»© trÃ´ng giá»‘ng_nhau chi_tiáº¿t hÆ¡n thÃ¬ chÃºng_ta Ä‘Ã£ tá»‘i Æ°u hÃ³a code cá»§a mÃ¬nh
Hy_vá»ng ráº±ng Ä‘iá»u nÃ y sáº½ giÃºp báº¡n trong viá»‡c code hiá»‡u_quáº£ hÆ¡n ğŸ˜
Váº­y_lÃ  bÃ i_viáº¿t cá»§a mÃ¬nh Ä‘áº¿n Ä‘Ã¢y lÃ  háº¿t ğŸ˜
Cáº£m_Æ¡n cÃ¡c báº¡n Ä‘Ã£ theo_dÃµi bÃ i_viáº¿t
ğŸ˜ƒ Swift All Rights Reserved Report