Huyen Le huyenle95 Follow 53 3 16 Published about 3 hours ago 3 min read 9 0 0 API testing - Validate json schema - Phân_biệt và sử_dụng các loại variables Report Validate json schema I
Json Schema là_gì
Dùng_làm_gì
1
ĐỊNH_NGHĨA Schema nghĩa tiếng anh là khung giống như outline hoặc model
JSON Schema is a vocabulary that allows you to annotate and validate JSON documents
Tham_khảo HTTPSJSON-SCHEMA
ORG Từ bản Mô_tả data format của json – Chúng_ta áp_dụng kiểm_tra cấu_trúc dữ_liệu json khi làm API test
Nói đơn_giản chúng_ta chỉ kiểm_tra cái khung của response thôi chứ không kiểm_tra data của response
VẬY KHI_NÀO THÌ DÙNG CÁI_NÀY
Khi mình muốn verify nhanh không muốn mất quá_nhiều thời_gian vào việc viết test check từng data trong response
Khi mình không_biết phải test data trong response như_thế_nào
Ví_dụ có 1 API trả về 1 list các quyển_sách bạn không_biết được số_lượng chính_xác là bao_nhiêu quyển và có những quyển_sách nào chỉ biết cấu_trúc response – chỉ verify được cấu_trúc của response
II
Cách thực_hiện RESPONSE LÀ OBJECT Test sẽ là const schema = type object properties id type number firstName type string lastName type string email type string programme type string courses type array Field nào_là bắt_buộc thì liệt_kê ở phần require require [id courses];pm
testValidate schema = pm
response
to
have
jsonSchemaschema;; URL cho bạn muốn thử httpsrun
mocky
iov3a7b67072-41b3-4a4b-89b8-a540bc17b08b Type dữ liệu là những loại sau_đây String Number Boolean Null Object Array Run trên postman KHI CÓ NESTED OBJECT Test sẽ là const schema = type object properties code type string error type object properties message type string required [message] required [code error];pm
testValidate schema = pm
response
to
have
jsonSchemaschema;; URL cho bạn muốn thử httpsrun
mocky
iov379fd4165-de48-41d9-bfab-822ce724a5e0 III
Tổng_kết Thực_ra thì schema còn khá nhiều thứ phức_tạp và loằng ngoằng thiết_nghĩ mình cũng không cần_thiết đến mức đó dừng_lại ở mức cơ_bản kiểm_tra type và required fields chắc cũng đủ rồi
Nếu bạn thấy hứng_thú muốn tìm_hiểu thêm thì vào đây
Phân_biệt và sử_dụng các loại variables I
Cách sử_dụng các loại biến trong postman script Trong postman có_nhiều loại biến với các mục_đích khác_nhau bạn nên biết những function cơ_bản với những loại biến này để viết script được nhanh và pro hơn
BIẾN GLOBAL  GLOBALGoals Nhiều mục_đích chủ_yếu để quick test và tất_cả các request đều có_thể sử_dụng
Set pm
globals
set‘myVariable’ MY VALUE;Get pm
globals
get‘myVariable’;Remove pm
globals
unset‘myVariable’;Clear pm
globals
clear; BIẾN COLLECTION COLLECTIONGoals Dùng lúc_nào thì dùng
Haizz nói_chung mình không nghĩ ra tác_dụng
T T
Chỉ_có sử_dụng với các request nằm_trong 1 collectionSet pm
collectionVariables
set‘myVariable’ MY VALUE;Get pm
collectionVariables
get‘myVariable’;Remove pm
collectionVariables
unset‘myVariable’;Clear pm
collectionVariables
clear; BIẾN ENVIRONMENT  ENVIRONMENTGoals Dùng riêng cho các môi_trường khác_nhau của app có_thể lưu các biến mà khác_nhau ở mỗi môi_trường như URL usernamepassword hoặc các data mà dùng_cho các request tiếp_theo
Set pm
environment
set‘myVariable’ MY VALUE;Get pm
environment
get‘myVariable’;Remove pm
environment
unset‘myVariable’;Clear pm
environment
clear;Show pm
environment
namename  BIẾN LOCAL Biến này chỉ khởi tạo khi ấn request bắt_đầu và clear toàn_bộ khi finish khi request kết_thúc
LOCALGoals Chỉ_dùng trong_vòng đời của 1 requestSet pm
variables
set‘myVariable’ MY VALUE;Get pm
variables
get‘myVariable’;Remove pm
variables
unset‘myVariable’;Clear pm
variables
clear; BIẾN ITERATION Đọc thông_tin từ file data dạng csv hoặc json
DATAGoals Chỉ work khi dùng với chức_năng đọc file data từ CSV hoặc JSON file từ Runner hoặc NewmanGet pm
iterationData
get‘myVariable’; II
Cách_lấy giá_trị các biến Dynamic Một thời_gian dài trước_đây team postman nhận rất nhiều phản_hồi của người_dùng về việc thêm thư_viện để fake data vào trong postman
Và cuối_cùng team postman đã thỏa_mãn người_dùng bằng việc cho thêm_vào postman rất nhiều biến dynamic có_nghĩa là dummy data mỗi_lần run
Ví_dụ mỗi_lần run mình lại có 1 random ip
CÁCH GỌI BIẾN BÊN_NGOÀI SCRIPT Sử_dụng cú_pháp ten bien Ví_dụ randomIP Ví_dụ III
Tổng_kết Trong postman có rất nhiều loại biến với scope khác_nhau các bạn có_thể thử và tìm cho mình những cách sử_dụng thích_hợp để có_thể sử_dụng postman một_cách linh_hoạt
API testing All Rights Reserved Report